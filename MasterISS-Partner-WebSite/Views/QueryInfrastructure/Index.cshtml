@using MasterISS_Partner_WebSite.ViewModels;
@using MasterISS_Partner_WebSite.Localization;
@model  AddressInfoViewModel
@{
    ViewBag.Title = MasterISS_Partner_WebSite.Localization.View.HomePage;
    Layout = "~/Views/Shared/_Layout.cshtml";
    var response = new ServiceAvaibilityResponseViewModel();
}

<div style="background-color:red">
    @ViewBag.ErrorMessage
</div>

<div class="container">
    <div class="card card-custom wizard-content d-flex flex-column flex-row-fluid py-15 px-5 px-lg-10 " style="
                                    -moz-box-shadow: -13px 68px 106px -16px rgba(0,0,0,0.37);
                                    -moz-box-shadow: -13px 68px 106px -16px rgba(0,0,0,0.37);">
        <div class="text-right mb-lg-4 mb-15 mr-xxl-10">
        </div>
        <div class="d-flex justify-content-center flex-row-fluid ">
            <div class="pb-5 w-100 w-md-450px w-lg-500px" id="kt_form2">
                <div class="pb-10 pb-lg-15">

                    <h4 class="text-info font-size-h4">@View.NetspeedInfrastructureQuery</h4><hr class="my-0">
                    <div class="text-dark-50 font-size-h6 my-6 mt-2">@View.InOrderToInquirePortAndSpeed <strong>@View.QueryInfrastructure </strong> @View.ClickButton</div>
                    <div class="row">

                        <div class="separator separator-dashed mt-5 my-3"></div>
                        <div class="col-lg-12 col-md-12">
                            <h3 class="text-dark-50 font-size-h4">@View.YourAddressInformation</h3><hr>
                        </div>

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(m=>m.ProvinceId,new { @class= "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.ProvinceId, (SelectList)ViewBag.Provinces, HomeView.SelectProvince, new { @id = "province", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.DistrictId, new { @class = "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.DistrictId, new SelectList(""), HomeView.SelectDistrict, new { @id = "district", @disabled = "disabled", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <label class="font-size-h6 font-weight-bolder m-2 text-dark">Semt</label>
                                @Html.LabelFor(m => m.RuralRegionsId, new { @class = "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.RuralRegionsId, new SelectList(""), HomeView.SelectRegions, new { @id = "ruralregions", @disabled = "disabled", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>
                        </div>
                        <!--end::Form Group-->
                        <!--begin::Form Group-->

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.NeighborhoodId, new { @class = "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.NeighborhoodId, new SelectList(""), HomeView.SelectNeigborhood, new { @id = "neighborhood", @disabled = "disabled", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>
                            <!--end::Form Group-->
                        </div>

                        <!--begin::Form Group-->

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.StreetId, new { @class = "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.StreetId, new SelectList(""), HomeView.SelectStreet, new { @id = "street", @disabled = "disabled", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>
                        </div>
                        <!--end::Form Group-->
                        <!--begin::Form Group-->

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.BuildingId, new { @class = "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.BuildingId, new SelectList(""), HomeView.SelectBuilding, new { @id = "building", @disabled = "disabled", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>
                            <!--end::Form Group-->
                        </div>

                        <!--begin::Form Group-->

                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.ApartmentId, new { @class = "font-size-h6 font-weight-bolder m-2 text-dark" })
                                @Html.DropDownListFor(nvpl => nvpl.ApartmentId, new SelectList(""), HomeView.SelectApartment, new { @id = "apartment", @disabled = "disabled", @class = "form-control form-control-solid h-auto p-3 border-0 rounded-lg font-size-h6" })
                            </div>

                            <!--end::Form Group-->
                            @using (Html.BeginForm("ServiceAvailability", "QueryInfrastructure",FormMethod.Get))
                            {
                                @Html.Hidden("bbk")
                                <input type="submit" class="btn btn-block font-weight-bolder btn-danger btn-hover-warning mt-12" value="Altyapımı Sorgula"/>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@Html.Raw(TempData["Error"])
@section Javascript{
    <script>

        QueryAddress("#province","#district",'@Url.Action("DistrictList", "QueryInfrastructure")')

        QueryAddress("#district", "#ruralregions", '@Url.Action("RuralRegionsList", "QueryInfrastructure")')

        QueryAddress("#ruralregions","#neighborhood",'@Url.Action("NeighborhoodList", "QueryInfrastructure")')

        QueryAddress("#neighborhood","#street",'@Url.Action("StreetList", "QueryInfrastructure")')

        QueryAddress("#street","#building",'@Url.Action("BuildingList", "QueryInfrastructure")')

        QueryAddress("#building","#apartment",'@Url.Action("ApartmentList", "QueryInfrastructure")')

        $("#apartment").change(function () {
            var bbk = $("#apartment").find(":selected").val();
            if (bbk=="") {
                $("#bbk").val("");
            }
            $("#bbk").val(bbk);
        });

    </script>
}
